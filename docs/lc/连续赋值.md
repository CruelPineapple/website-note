# 连续赋值

```js
var a = {x: 1}
var b = a
a = a.x = {x: 1}
console.log(a) // {x: 1}
console.log(b) // {x: {x: 1}}
```

首先创建了一个对象和一个变量a，a持有对这个对象{x: 1}的引用，然后创建了变量b，b也持有对象{x: 1}的引用

接下来是连续赋值，首先又创建了一个新对象{x: 1}，因为有两个{x: 1}，姑且用老和新来指代它们。然后为a原本引用的那个老{x: 1}创建了一个x属性，让x属性引用新创建的新{x: 1}。这时候老{x: 1}对象就变成了{x: {x: 1}}这样，然后让a引用新{x: 1}，整个连续赋值就结束了。

最后是输出，a已经说过了，引用了新的{x: 1}，b因为是和变化前的a引用相同，因此引用的是那个老{x: 1}，但是它现在已经被变成{x: {x: 1}}了